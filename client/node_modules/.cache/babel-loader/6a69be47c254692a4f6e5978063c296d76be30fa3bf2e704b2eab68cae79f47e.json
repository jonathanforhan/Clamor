{"ast":null,"code":"import _slicedToArray from\"/home/jon/dev/clamor/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'bootstrap/dist/css/bootstrap.min.css';import'./loginform.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var handleEmail=function handleEmail(event){return setEmail(event.target.value);};var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handlePassword=function handlePassword(event){return setPassword(event.target.value);};var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),remember=_useState6[0],setRemember=_useState6[1];var handleRemember=function handleRemember(){if(!remember){setRemember(true);}else{setRemember(false);}};var Login=function Login(){fetch(\"/api/login\",{method:\"POST\",body:JSON.stringify({email:email,password:password}),headers:{\"Content-type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(status){if(status.message==='success'){console.log(\"successful login\");}else{console.log(\"login failed\");}console.log(status);console.log(status.body);console.log(status.message);});};return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper bg-dark d-flex align-items-center justify-content-center w-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"needs-validation\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",onChange:handleEmail,value:email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",onChange:handlePassword,value:password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-check mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",onChange:handleRemember,value:remember}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"check\",className:\"form-label\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success w-100 block mt-2\",onClick:function onClick(){return Login();},children:\"Login\"})]})]})});};export default LoginForm;","map":{"version":3,"names":["React","useState","LoginForm","email","setEmail","handleEmail","event","target","value","password","setPassword","handlePassword","remember","setRemember","handleRemember","Login","fetch","method","body","JSON","stringify","headers","then","res","json","status","message","console","log"],"sources":["/home/jon/dev/clamor/client/src/components/loginform.js"],"sourcesContent":["import React, {useState} from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './loginform.css'\n\nconst LoginForm = () => {\n\n  const [email, setEmail] = useState('')\n  const handleEmail = event => setEmail(event.target.value)\n\n  const [password, setPassword] = useState('')\n  const handlePassword = event => setPassword(event.target.value)\n\n  const [remember, setRemember] = useState(true)\n  const handleRemember = () => {\n    if(!remember) {\n      setRemember(true)\n    } else {\n      setRemember(false)\n    }\n  }\n\n  const Login = () => {\n    fetch(\"/api/login\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email: email,\n        password: password\n      }),\n      headers: {\n        \"Content-type\": \"application/json\",\n      }\n    })\n      .then((res) => res.json())\n      .then((status) => {\n        if (status.message === 'success') {\n          console.log(\"successful login\");\n        } else {\n          console.log(\"login failed\");\n        }\n        console.log(status)\n        console.log(status.body)\n        console.log(status.message)\n      });\n  }\n\n  return (\n    <div className=\"wrapper bg-dark d-flex align-items-center justify-content-center w-100\">\n      <div className='login'>\n        <h2 className='mb-3'>Login</h2>\n        <form className='needs-validation'>\n          <div className='form-group mb-2'>\n            <label htmlFor='email' className='form-label'>Email Address</label>\n            <input type=\"email\" className=\"form-control\" id='email' onChange={handleEmail} value={email}></input>\n          </div>\n          <div className='form-group mb-2'>\n            <label htmlFor='password'className='form-label'>Password</label>\n            <input type=\"password\" className='form-control' id='password' onChange={handlePassword} value={password}></input>\n          </div>\n          <div className='form-group form-check mb-2'>\n            <input type=\"checkbox\" className='form-check-input' onChange={handleRemember} value={remember}></input>\n            <label htmlFor='check' className='form-label'>Remember me</label>\n          </div>\n          <button type='submit' className='btn btn-success w-100 block mt-2' onClick={() => Login()}>Login</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default LoginForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}